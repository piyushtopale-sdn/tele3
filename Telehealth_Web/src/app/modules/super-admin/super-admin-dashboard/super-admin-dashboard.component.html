<div class="super_admin_dashboard dashboard_main_content">
  <div class="top_bar up_bar common_space">
    <div class="content_wrap">
      <div class="policy">
        <form [formGroup]="dateRangeForm">
          <div class="form_field_wrapper d-flex align-items-center gap-3" style="margin: 10px;">
            <div class="main_title">{{ "from" | translate }}:</div>
            <mat-form-field class="example-full-width choosedate" appearance="fill">
              <input matInput [matDatepickerFilter]="myFilter" placeholder="{{ 'select_date' | translate }}"
                [matDatepicker]="picker1" formControlName="fromDate"
                (dateChange)="onDateChange('from', $event.value)" (click)="picker1.open()" readonly />
              <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
              <mat-datepicker #picker1></mat-datepicker>
            </mat-form-field>
        
            <div class="main_title">{{ "to" | translate }}:</div>
            <mat-form-field class="example-full-width choosedate" appearance="fill">
              <input matInput [matDatepickerFilter]="myFilter" placeholder="{{ 'select_date' | translate }}"
                [matDatepicker]="picker2" formControlName="toDate" (dateChange)="onDateChange('to', $event.value)" (click)="picker1.open()" readonly />
              <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
              <mat-datepicker #picker2></mat-datepicker>
            </mat-form-field>
          </div>
        </form>
        
      </div>
    </div>
  </div>

  <div class="counter_section common_space">
    <div class="row">
      <div class="col-sm-6 col-md-6 col-lg-6 col-xl-4">
        <div class="cust_col light_blue">
          <div class="cust_col_inner header-card-inner">

            <div class="left">
              <div class="counter">{{totalActiveDoctor ? totalActiveDoctor: 0}}</div>
              <div class="counter_title">
                {{"active_doctors" | translate}}
              </div>
            </div>
            <div class="right" (click)=" exportActiveDoctorList()"  ngbTooltip="Export active doctors list">
              <div class="counter_img">
                <img src="../../../../assets/img/dashboard/dashboard30.svg" />
              </div>
            </div>
          </div>
        </div>
      </div>  
      <div class="col-sm-6 col-md-6 col-lg-6 col-xl-4">
        <div class="cust_col light_orange">
          <div class="cust_col_inner header-card-inner">

            <div class="left">
              <div class="counter">{{totalPatient? totalPatient : 0}}</div>
              <div class="counter_title">
                <!-- {{ "total_pharmacy_registered" | translate }} -->
                {{"total_register_patients" | translate}}
              </div>
            </div>
            <div class="right" (click)=" exportRegisteredPatientList()"  ngbTooltip="Export registered patients list">
              <div class="counter_img">
                <img src="../../../../assets/img/dashboard/dashboard29.svg" />
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-sm-6 col-md-6 col-lg-6 col-xl-4" >
        <div class="cust_col light_yellow">
          <div class="cust_col_inner header-card-inner">

            <div class="left">
              <div class="counter">{{totalPharmacies ? totalPharmacies : 0}}</div>
              <div class="counter_title">
                {{ "total_pharmacy_registered" | translate }}
              </div>
            </div>
            <div class="right" (click)="exportPharmacyList()" ngbTooltip="Export pharmacies list">
              <div class="counter_img">
                <img src="../../../../assets/img/dashboard/dashboard26.svg" />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row mt20">
      <div class="col-sm-6 col-md-6 col-lg-6 col-xl-4">
        <div class="cust_col light_skyblue">
          <div class="cust_col_inner header-card-inner">

            <div class="left">
              <div class="counter">{{totalLaboratory ? totalLaboratory :0}}</div>
              <div class="counter_title">
                {{ "total_lab_registered" | translate }}
              </div>
            </div>
            <div class="right"  (click)="exportLabList()" ngbTooltip="Export laboratories list">
              <div class="counter_img">
                <img src="../../../../assets/img/dashboard/dashboard32.svg" />
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-sm-6 col-md-6 col-lg-6 col-xl-4">
        <div class="cust_col light_violet">
          <div class="cust_col_inner header-card-inner">

            <div class="left">
              <div class="counter">{{totalRadiology ? totalRadiology :0}}</div>
              <div class="counter_title">
                {{ "total_radio_registered" | translate }}
              </div>
            </div>
            <div class="right"  (click)="exportRadioList()" ngbTooltip="Export radiologies list">
              <div class="counter_img">
                <img src="../../../../assets/img/dashboard/dashboard20.svg" />
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-sm-6 col-md-6 col-lg-6 col-xl-4" (click)="showtable()">
        <div class="cust_col light_green">
          <div class="cust_col_inner header-card-inner">

            <div class="left">
              <div class="counter">{{totalnonSubscriptionPatient ? totalnonSubscriptionPatient : 0}}</div>
              <div class="counter_title">
                {{"non_subscribed_patients" | translate}}
              </div>
            </div>
            <div class="right" (click)=" exportNonSubcribedPatient()"  ngbTooltip="Export non subscribed patient list">
              <div class="counter_img">
                <img src="../../../../assets/img/dashboard/dashboard30.svg" />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row mt20">
      <div class="col-sm-6 col-md-6 col-lg-6 col-xl-4">
        <div class="cust_col light_violet">
          <div class="cust_col_inner header-card-inner">

            <div class="left">
              <div class="counter">{{onlineDoctorCount ? onlineDoctorCount :0}}</div>
              <div class="counter_title">
                {{ "online_doctors" | translate }}
              </div>
            </div>
            <div class="right"  (click)="onlineDoctorList('click')" ngbTooltip="Export online doctor list">
              <div class="counter_img">
                <img src="../../../../assets/img/dashboard/dashboard32.svg" />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>



  <div class="graph_section">
    <div class="row">
      <div class="total_claim revenue_claim ">
        <div class="total_claim_inner common_space">
          <div class="top_bar">
            <div class="left_part">
              <div class="main_title">{{"total_consultation_booked" | translate}}</div>
            </div>
            <div class="right_part">
              <div class="policy">
                <div class="form_field_wrapper month-year-wrapper">

                  <!-- <mat-form-field appearance="fill" class="month-dropdown">
                    <mat-select [(ngModel)]="selectedMonth" (selectionChange)="onMonthChange($event.value)"
                      placeholder="{{ 'select_month' | translate }}">
                      <mat-option *ngFor="let month of months" [value]="month">{{ month }}</mat-option>
                    </mat-select>
                  </mat-form-field>

                  <mat-form-field appearance="fill" class="year-dropdown">
                    <mat-select [(ngModel)]="selectedYear" (selectionChange)="getgraphYear($event.value)"
                      placeholder="{{ 'select_year' | translate }}">
                      <mat-option *ngFor="let year of years" [value]="year">{{ year }}</mat-option>
                    </mat-select>
                  </mat-form-field> -->

                </div>
              </div>
            </div>

          </div>
          <div *ngIf="noDataAvailable">
            <p>{{ 'no_data_available' | translate }}</p>
          </div>
          <div class="bottom_bar" *ngIf="!noDataAvailable">
            <div>
              <div>
                <canvas baseChart [data]="totalConsultationBooked" [options]="totalOptions" [type]="'bar'" >
                </canvas>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="graph_section" *ngIf="showList === true">
    <div class="row">
      <div class="total_claim revenue_claim">
        <div class="total_claim_inner common_space">
          <div class="top_bar">
            <div class="left_part">
              <div class="main_title">{{"non_subscribed_patients" | translate}} {{"list" | translate}}</div>
            </div>
          </div>
          <div class="bottom_bar" *ngIf="!noDataAvailable">
            <div class="table-wrap">
              <div class="table-inner without_pagination_block">
                <table mat-table [dataSource]="listData" class="mat-elevation-z8 withoutpagination">
                  <ng-container matColumnDef="patientname">
                    <th mat-header-cell *matHeaderCellDef>
                      {{ "patient_name" | translate }}
                    </th>
                    <td mat-cell *matCellDef="let element">

                      {{ element?.full_name ? element?.full_name : "-" }}

                    </td>
                  </ng-container>
                  <ng-container matColumnDef="mobile">
                    <th mat-header-cell *matHeaderCellDef>
                      {{ "mobile_number" | translate }}
                    </th>
                    <td mat-cell *matCellDef="let element">
                      ({{ element?.country_code}}) {{ element?.mobile}}
                    </td>
                  </ng-container>

                  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                  <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
                </table>
                <div *ngIf="listData.length === 0" class="text-center">
                  <b>{{ "no_record_found" | translate }}</b>
                </div>
              </div>
              <mat-paginator class="pagination" [length]="totalLength" (page)="handlePageEvent($event)"
                [pageSize]="pageSize" [pageSizeOptions]="[5, 20, 50, 100]" showFirstLastButtons
                aria-label="Select page of periodic elements">
              </mat-paginator>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>